{"ast":null,"code":"import _slicedToArray from \"/Users/portiz/workspace/learning/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/portiz/workspace/learning/tic-tac-toe/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nfunction Square(props) {\n  return React.createElement(\"button\", {\n    className: \"square\",\n    onClick: props.onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, props.value);\n}\n\nfunction calculateWinner(squares) {\n  const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  for (let i = 0; i < lines.length; i++) {\n    const _lines$i = _slicedToArray(lines[i], 3),\n          a = _lines$i[0],\n          b = _lines$i[1],\n          c = _lines$i[2];\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n\n  return null;\n}\n\nclass Board extends React.Component {\n  renderSquare(i) {\n    return React.createElement(Square, {\n      value: this.props.squares[i],\n      onClick: () => this.props.onClick(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    });\n  }\n\n  createBoard() {\n    let board = [];\n\n    for (let i = 0; i < 3; i++) {\n      let row = [];\n\n      for (let j = 0; j < 3; j++) {\n        row.push(this.renderSquare(i * 3 + j));\n      }\n\n      board.push(\"<div className='board-row'> { row } </div>\");\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.createBoard(), React.createElement(\"div\", {\n      className: \"board-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.renderSquare(0), this.renderSquare(1), this.renderSquare(2)), React.createElement(\"div\", {\n      className: \"board-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.renderSquare(3), this.renderSquare(4), this.renderSquare(5)), React.createElement(\"div\", {\n      className: \"board-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, this.renderSquare(6), this.renderSquare(7), this.renderSquare(8)));\n  }\n\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null)\n      }],\n      xIsNext: true,\n      stepNumber: 0\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\n    this.setState({\n      history: history.concat([{\n        squares: squares,\n        col: (i + 1) % 3 === 0 ? 3 : (i + 1) % 3,\n        row: Math.ceil((i + 1) / 3)\n      }]),\n      xIsNext: !this.state.xIsNext,\n      stepNumber: history.length\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n    const moves = history.map((step, move) => {\n      const description = move ? \"Go to move #\" + move + \"(\" + step.row + \", \" + step.col + \")\" : \"Go to game start\";\n      const bold = move === this.state.stepNumber ? \"bold\" : \"\";\n      return React.createElement(\"li\", {\n        key: move,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => this.jumpTo(move),\n        className: bold,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \" \", description, \" \"));\n    });\n    let status;\n\n    if (winner) {\n      status = \"Winner: \" + winner + \"!\";\n    } else {\n      status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Board, {\n      squares: current.squares,\n      onClick: i => this.handleClick(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"game-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, status), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, moves)));\n  }\n\n} // ========================================\n\n\nReactDOM.render(React.createElement(Game, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 163\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["/Users/portiz/workspace/learning/tic-tac-toe/src/index.js"],"names":["React","ReactDOM","Square","props","onClick","value","calculateWinner","squares","lines","i","length","a","b","c","Board","Component","renderSquare","createBoard","board","row","j","push","render","Game","constructor","state","history","Array","fill","xIsNext","stepNumber","handleClick","slice","current","setState","concat","col","Math","ceil","jumpTo","step","winner","moves","map","move","description","bold","status","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'; \n\nfunction Square(props) {\n  return (\n    <button className=\"square\" onClick={ props.onClick } >\n      { props.value }\n    </button>\n  );\n}\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n\nclass Board extends React.Component {\n\n  renderSquare(i) {\n    return (\n    <Square \n      value={this.props.squares[i]} \n      onClick={() => this.props.onClick(i)}\n    />\n    );\n  }\n\n  createBoard() {\n    let board = [];\n    for (let i = 0; i < 3; i++) {\n      let row = []\n      for (let j = 0; j < 3; j++) {\n        row.push(this.renderSquare((i * 3) + j));\n      }\n      board.push(\"<div className='board-row'> { row } </div>\")\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        { this.createBoard() }\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history : [\n        {\n          squares : Array(9).fill(null),\n        }\n      ],\n      xIsNext : true,\n      stepNumber : 0,\n\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\n    this.setState({ \n      history : history.concat([{\n        squares : squares, \n        col : ((i + 1) % 3) === 0 ? 3 : ((i + 1) % 3),\n        row : Math.ceil((i + 1) / 3)\n      }]),\n      xIsNext : !this.state.xIsNext,\n      stepNumber : history.length,\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber : step,\n      xIsNext : (step % 2) === 0,\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares)\n    const moves = history.map((step, move) => {\n      const description = move ?  \n        \"Go to move #\" + move  + \"(\" + step.row + \", \" + step.col + \")\": \n        \"Go to game start\";\n      const bold = move === this.state.stepNumber ? \"bold\" : \"\";\n      return (\n        <li key={move}>\n          <button onClick={() => this.jumpTo(move)} className={bold}> { description } </button>\n        </li>\n      )\n    });\n\n    let status;\n    if (winner) {\n      status = \"Winner: \" + winner + \"!\"\n    } else {\n      status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n    }\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board \n            squares={current.squares}\n            onClick={(i) => this.handleClick(i)} \n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{ status }</div>\n          <ol>{ moves }</ol>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\n"]},"metadata":{},"sourceType":"module"}